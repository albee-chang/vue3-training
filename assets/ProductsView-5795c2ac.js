import{S as f}from"./sweetalert2-fb1ab54e.js";import{_ as m,e as w,r as k,o,c as a,a as t,d as c,t as r,b as p,w as b,F as g,f as x,i as P}from"./index-6544174f.js";const{VITE_APP_URL:d,VITE_APP_PATH:l}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"albee2022vue",VITE_TEXT:"這是產品的環境",BASE_URL:"/vue3-training/week6/",MODE:"production",DEV:!1,PROD:!0},$={data(){return{products:[],cart:{}}},components:{RouterLink:w},methods:{addToCart(s,_=1){const h={product_id:s,qty:_};this.$http.post(`${d}/v2/api/${l}/cart`,{data:h}).then(n=>{this.getCartList(),f.fire(`${n.data.message}!`)}).catch(n=>{console.log(n)})},getCartList(){this.$http.get(`${d}/v2/api/${l}/cart`).then(s=>{this.cart=s.data.data})}},mounted(){this.$http.get(`${d}/v2/api/${l}/products/all`).then(s=>{this.products=s.data.products,this.getCartList()})}},y=t("div",{class:"text-secondary mb-2"},[t("i",{class:"bi bi-arrow-right-circle-fill"}),c(" 所有產品頁面 ")],-1),T={class:"navbar bg-light"},V={class:"container-fluid"},E=t("span",{class:"navbar-brand",href:"#"},"亂亂賣漫畫店",-1),L={key:0,type:"button",class:"btn nav-link"},C={class:"badge rounded-pill bg-danger text-white"},A={class:"btn btn-outline-success ms-3"},R={key:1},I={class:"row row-cols-3 g-3 my-3"},B={class:"card"},D=["src"],S={class:"card-body"},U={class:"card-title"},N={class:"float-end text-danger fw-bolder"},F={class:"card-body text-center"},H=["onClick"],M=t("i",{class:"bi bi-cart-check"},null,-1),O={class:"btn btn-success w-100"},X=t("i",{class:"bi bi-info-circle"},null,-1);function j(s,_,h,n,i,v){const u=k("RouterLink");return o(),a(g,null,[y,t("nav",T,[t("div",V,[E,i.cart.carts?(o(),a("button",L,[c(" 購物車 "),t("span",C,r(i.cart.carts.length),1),t("button",A,[p(u,{to:"/cart"},{default:b(()=>[c("查看購物車")]),_:1})])])):(o(),a("div",R,"購物車是空的"))])]),t("div",I,[(o(!0),a(g,null,x(i.products,e=>(o(),a("div",{class:"col",key:e.id},[t("div",B,[t("img",{src:e.imageUrl,class:"card-img-top",alt:"product.title"},null,8,D),t("div",S,[t("h6",U,r(e.title),1),t("span",N,"$ "+r(e.price)+" 元",1)]),t("div",F,[t("a",{href:"#",class:"btn btn-outline-secondary w-100 mb-1",onClick:P(q=>v.addToCart(e.id),["prevent"])},[M,c(" 加入購物車")],8,H),t("button",O,[p(u,{to:`/product/${e.id}`,class:"text-white text-decoration-none"},{default:b(()=>[X,c(" 查看產品細節 ")]),_:2},1032,["to"])])])])]))),128))])],64)}const J=m($,[["render",j]]);export{J as default};
